<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Calendar</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        .calendar {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(16, 50px);
            gap: 1px;
            background-color: #ccc;
            width: 90%;
            max-width: 1200px;
            border: 1px solid #ccc;
        }
        .calendar div {
            background-color: #fff;
            position: relative;
        }
        .time-slot {
            border: 1px solid #ddd;
            cursor: pointer;
        }
        .event {
            position: absolute;
            background-color: #4caf50;
            color: #fff;
            padding: 5px;
            box-sizing: border-box;
            border-radius: 4px;
            cursor: pointer;
        }
        .event span {
            display: block;
        }
    </style>
</head>
<body>
    <div class="calendar" id="calendar">
        <!-- Time slots will be generated by JavaScript -->
    </div>

    <script>
        const calendar = document.getElementById('calendar');
        const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];
        const timeSlots = [
            '9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM',
            '12:00 PM', '12:30 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM',
            '3:00 PM', '3:30 PM', '4:00 PM', '4:30 PM'
        ];

        // Generate time slots
        days.forEach(day => {
            timeSlots.forEach(time => {
                const slot = document.createElement('div');
                slot.classList.add('time-slot');
                slot.dataset.day = day;
                slot.dataset.time = time;
                calendar.appendChild(slot);
            });
        });

        let isDragging = false;
        let startSlot = null;
        let endSlot = null;

        calendar.addEventListener('mousedown', (e) => {
            if (e.target.classList.contains('time-slot')) {
                isDragging = true;
                startSlot = e.target;
                endSlot = e.target;
                createEventBox(startSlot, endSlot);
            }
        });

        calendar.addEventListener('mousemove', (e) => {
            if (isDragging && e.target.classList.contains('time-slot')) {
                endSlot = e.target;
                createEventBox(startSlot, endSlot);
            }
        });

        calendar.addEventListener('mouseup', () => {
            isDragging = false;
            startSlot = null;
            endSlot = null;
        });

        function createEventBox(start, end) {
            const startIndex = Array.from(calendar.children).indexOf(start);
            const endIndex = Array.from(calendar.children).indexOf(end);
            const minIndex = Math.min(startIndex, endIndex);
            const maxIndex = Math.max(startIndex, endIndex);

            const startSlot = calendar.children[minIndex];
            const endSlot = calendar.children[maxIndex];

            const eventBox = document.createElement('div');
            eventBox.classList.add('event');
            eventBox.style.top = startSlot.offsetTop + 'px';
            eventBox.style.height = (endSlot.offsetTop - startSlot.offsetTop + endSlot.offsetHeight) + 'px';
            eventBox.style.left = startSlot.offsetLeft + 'px';
            eventBox.style.width = startSlot.offsetWidth + 'px';

            const startTime = startSlot.dataset.time;
            const endTime = endSlot.dataset.time;
            eventBox.innerHTML = `<span>${startTime} â€“ ${endTime}</span>`;

            eventBox.addEventListener('click', () => {
                if (confirm('Do you want to delete this event?')) {
                    eventBox.remove();
                }
            });

            // Remove any existing event box before adding a new one
            const existingEvent = document.querySelector('.event');
            if (existingEvent) {
                existingEvent.remove();
            }

            calendar.appendChild(eventBox);
        }
    </script>
</body>
</html>
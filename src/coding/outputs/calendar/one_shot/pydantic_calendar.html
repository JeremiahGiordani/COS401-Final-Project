<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weekly Calendar</title>
<style>
    body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background-color: #f0f0f0;
    }
    .calendar {
        display: grid;
        grid-template-rows: auto repeat(16, 40px);
        grid-template-columns: 70px repeat(5, 1fr);
        gap: 1px;
        background-color: #ddd;
        border: 1px solid #ccc;
    }
    .calendar div {
        background-color: #fff;
        border: 1px solid #e0e0e0;
    }
    .calendar .header {
        background-color: #f7c59f;
        font-weight: bold;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .calendar .time {
        text-align: center;
        background-color: #f7c59f;
    }
    .event {
        background-color: #82c0cc;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
    }
    .event:hover {
        opacity: 0.8;
    }
</style>
</head>
<body>
<div class="calendar" id="calendar">
    <!-- Headers -->
    <div class="header"></div>
    <div class="header">Monday</div>
    <div class="header">Tuesday</div>
    <div class="header">Wednesday</div>
    <div class="header">Thursday</div>
    <div class="header">Friday</div>
    <!-- Time slots -->
    <!-- Generate time slots dynamically with JavaScript -->
</div>

<script>
const calendar = document.getElementById('calendar');
const times = ['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '12:30 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM', '4:30 PM', '5:00 PM'];
const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];

// Generate time row labels
times.forEach(time => {
    const timeCell = document.createElement('div');
    timeCell.classList.add('time');
    timeCell.textContent = time;
    calendar.appendChild(timeCell);
});

// Generate empty slots
for (let row = 0; row < times.length; row++) {
    for (let col = 0; col < days.length; col++) {
        const cell = document.createElement('div');
        cell.dataset.row = row;
        cell.dataset.col = col;
        calendar.appendChild(cell);
    }
}

let startCell = null;

calendar.addEventListener('mousedown', (e) => {
    if (e.target.dataset.row !== undefined && e.target.dataset.col !== undefined) {
        startCell = e.target;
        startCell.classList.add('dragging');
    }
});

calendar.addEventListener('mouseup', (e) => {
    if (startCell && e.target.dataset.row !== undefined && e.target.dataset.col !== undefined) {
        const endCell = e.target;
        createEvent(startCell, endCell);
        startCell.classList.remove('dragging');
        startCell = null;
    }
});

calendar.addEventListener('mousemove', (e) => {
    if (startCell && e.target.dataset.row !== undefined && e.target.dataset.col !== undefined) {
        const endCell = e.target;
        if (endCell.dataset.col === startCell.dataset.col) {
            const [startRow, endRow] = [parseInt(startCell.dataset.row), parseInt(endCell.dataset.row)].sort((a, b) => a - b);
            highlightCells(startRow, endRow, startCell.dataset.col);
        }
    }
});

function highlightCells(startRow, endRow, col) {
    const cells = calendar.querySelectorAll(`div[data-col="${col}"]`);
    cells.forEach(cell => {
        if (cell.dataset.row >= startRow && cell.dataset.row <= endRow) {
            cell.classList.add('highlight');
        } else {
            cell.classList.remove('highlight');
        }
    });
}

function createEvent(startCell, endCell) {
    const [startRow, endRow] = [parseInt(startCell.dataset.row), parseInt(endCell.dataset.row)].sort((a, b) => a - b);
    const startTime = times[startRow];
    const endTime = times[endRow + 1] || '5:00 PM';
    const event = document.createElement('div');
    event.classList.add('event');
    event.style.gridRow = `${startRow + 2} / ${endRow + 3}`;
    event.style.gridColumn = `${parseInt(startCell.dataset.col) + 2}`;
    event.textContent = `${startTime} â€“ ${endTime}`;

    event.addEventListener('click', () => {
        if (confirm('Do you want to delete this event?')) {
            event.remove();
        }
    });

    calendar.appendChild(event);
}
</script>
</body>
</html>